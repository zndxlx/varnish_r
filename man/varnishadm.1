.\" Man page generated from reStructuredText.
.
.TH VARNISHADM 1 "" "" ""
.SH NAME
varnishadm \- Control a running Varnish instance
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
varnishadm [\-h] [\-n ident] [\-t timeout] [\-S secretfile] [\-T [address]:port] [command [...]]
.SH DESCRIPTION
.sp
The \fIvarnishadm\fP utility establishes a CLI connection to varnishd either
using \-n \fIname\fP or using the \-T and \-S arguments. If \-n \fIname\fP is
given the location of the secret file and the address:port is looked
up in shared memory. If neither is given \fIvarnishadm\fP will look for an
instance without a given name.
.sp
If a command is given, the command and arguments are sent over the CLI
connection and the result returned on stdout.
.sp
If no command argument is given \fIvarnishadm\fP will pass commands and
replies between the CLI socket and stdin/stdout.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-h
Print program usage and exit.
.TP
.BI \-n \ ident
Connect to the instance of \fIvarnishd\fP with this name.
.TP
.BI \-S \ secretfile
Specify the authentication secret file. This should be the same \-S
argument as was given to \fIvarnishd\fP\&. Only processes which can read
the contents of this file, will be able to authenticate the CLI connection.
.TP
.BI \-t \ timeout
Wait no longer than this many seconds for an operation to finish.
.TP
.BI \-T \ <address:port>
Connect to the management interface at the specified address and port.
.UNINDENT
.sp
The syntax and operation of the actual CLI interface is described in
the \fIvarnish\-cli(7)\fP manual page. Parameters are described in
\fIvarnishd(1)\fP manual page.
.sp
Additionally, a summary of commands can be obtained by issuing the
\fIhelp\fP command, and a summary of parameters can be obtained by issuing
the \fIparam.show\fP command.
.SH EXIT STATUS
.sp
If a command is given, the exit status of the \fIvarnishadm\fP utility is
zero if the command succeeded, and non\-zero otherwise.
.SH EXAMPLES
.sp
Some ways you can use varnishadm:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
varnishadm \-T localhost:999 \-S /var/db/secret vcl.use foo
echo vcl.use foo | varnishadm \-T localhost:999 \-S /var/db/secret
echo vcl.use foo | ssh vhost varnishadm \-T localhost:999 \-S /var/db/secret
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fIvarnishd(1)\fP
.IP \(bu 2
\fIvarnish\-cli(7)\fP
.UNINDENT
.SH AUTHORS
.sp
The \fIvarnishadm\fP utility and this manual page were written by Cecilie
Fritzvold. This man page has later been modified by Per Buer, Federico G.
Schwindt and Lasse Karstensen.
.\" Generated by docutils manpage writer.
.
